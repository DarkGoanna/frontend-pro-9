<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hw-9</title>
</head>
<body>
    <script>
        var toDoList = {
            _list: [],
            get list () {
                return this._list;
            },
            set add(text) {
                var id = Date.now();
                if (typeof text === 'string') {
                    text = text.trim();
                };
                if (text) {
                    this.list.push({
                        text,
                        id,
                        isDone: false,
                    });
                }
                return id;
            },
            delete: function (id) {
                var index = this.getNoteIndex(id);
                if (index != -1) {
                    return this.list.splice(index, 1);
                };
            },
            edit: function (id, newText) {
                var index = this.getNoteIndex(id);
                if (typeof newText === 'string') {
                    newText = newText.trim();
                }
                if (index != -1 && newText) {
                    return this.list[index].text = newText;
                };
            },
            ready: function (id) {
                var index = this.getNoteIndex(id);
                if (index != -1) {
                    return this.list[index].isDone = true;
                };
            },
            getNoteIndex: function (value) {
                return this.list.findIndex(function (obj) {
                    if (obj.id == value) return obj;
                });
            }
        };
        Object.defineProperty(toDoList, '_list', {
            writable: false,
            configurable: false,
        });
        Object.freeze(toDoList);
    </script>
</body>
</html>