<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hw-9</title>
</head>
<body>
    <script>
        var toDoList = {
            _list: [],
            get list () {
                return this._list;
            },
            add: function () {
                var id = Date.now();
                var text = prompt('Добавить новое задание:');
                if (text) {
                    this.list.push({
                        text: text.trim(),
                        id,
                        status: 'новое',
                    });
                    return id;
                } return 'Задание не создано'
            },
            delete: function (id) {
                var index = this.findIndex(id);
                if (index == -1) {
                    return 'задания с таким id не найдено';
                } this.list.splice(index, 1);
                return 'Задание успешно удалено';
            },
            edit: function (id) {
                var index = this.findIndex(id);
                if (index == -1) {
                    return 'задания с таким id не найдено';
                } this.list[index].text = prompt('Изменить на:');
                return 'Задание изменено';
            },
            ready: function (id) {
                var index = this.findIndex(id);
                if (index == -1) {
                    return 'задания с таким id не найдено';
                } this.list[index].status = 'выполнено';
                return 'Задание выполнено';
            },
            findIndex: function (value) {
                return this.list.findIndex(function (obj) {
                    if (obj.id == value) return obj;
                });
            }
        };
        Object.defineProperty(toDoList, '_list', {
            writable: false,
            configurable: false,
        });
        Object.freeze(toDoList);
    </script>
</body>
</html>